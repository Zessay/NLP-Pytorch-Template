#!/usr/bin/env python
# encoding: utf-8
'''
@author: zessay
@license: (C) Copyright Sogou.
@contact: zessay@sogou-inc.com
@file: cn_punc_removal.py
@time: 2019/11/21 21:23
@description: 移除中文文本中的中英文标点，输入是list型
'''

from snlp.base import Unit

class CNPuncRemoval(Unit):
    _CNPuncs = ['。', '，', '！', '？', '、', '；', '：', '“',
                '”', '‘', '’', '（', '）', '【', '】', '{', '}',
                '『', '』', '「', '」', '〔', '〕', '——', '……', '—', '-',
                '～', '·', '《', '》', '〈', '〉', '﹏', '___', '.']
    _ENPuncs = [',', '.', '"', ':', ')', '(', '-', '!', '?', '|', ';', "'", '$', '&', '/',
              '[', ']', '>', '%', '=', '#', '*', '+', '\\', '•', '~', '@', '£', '·', '_',
              '{', '}', '©', '^', '®', '`', '<', '→', '°', '€', '™', '›', '♥', '←', '×',
              '§', '″', '′', 'Â', '█', '½', 'à', '…', '“', '★', '”', '–', '●', 'â', '►',
              '−', '¢', '²', '¬', '░', '¶', '↑', '±', '¿', '▾', '═', '¦', '║', '―', '¥',
              '▓', '—', '‹', '─', '▒', '：', '¼', '⊕', '▼', '▪', '†', '■', '’', '▀', '¨',
              '▄', '♫', '☆', 'é', '¯', '♦', '¤', '▲', 'è', '¸', '¾', 'Ã', '⋅', '‘', '∞',
              '∙', '）', '↓', '、', '│', '（', '»', '，', '♪', '╩', '╚', '³', '・', '╦', '╣',
              '╔', '╗', '▬', '❤', 'ï', 'Ø', '¹', '≤', '‡', '√', ]

    def transform(self, input_: list) -> list:
        """注意这里的输入是list型"""
        return [token for token in input_
                if token not in self._CNPuncs+self._ENPuncs]
